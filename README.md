# BitRunHackathon2019

**时间：2019/04/19 ~ 2019/04/21**

**地点：杭州**

## 项目：基于GXChain的拍卖交易系统

传统的拍卖程序存在买方卖方身份泄露，拍卖行泄露信息等缺点，本项目基于GXChain实现了对于卖方买方的隐私保护，借用区块链的匿名性，在拍卖的同时保护买方卖方的身份，避免身份泄露带来的风险。

## 小组成员及分工

**彭昀、金铭：**智能合约编写，测试及部署

**朱海明、朱信冉：**前端编写，测试及部署

## 拍卖流程

**Step 1、 结点注册**

任意想参与拍卖过程的节点均需要在拍卖行(智能合约)处注册。

**Step 2、 卖方提交拍卖申请**

想要拍卖物品的节点首先向拍卖行提出申请，拍卖行审核卖方提交的信息，拍品信息在卖方提交押金之后生效。

拍卖行向全网广播拍品信息及拍卖时间，其他节点可在拍卖结束前参与竞拍。

**Step 3、 竞拍**

到达上一步中拍卖行广播的拍卖时间时，拍卖过程自动开始，买方节点可以向拍卖行提交自己的价格(不能比卖方指定的最低出价和买方上一次出价低)，拍卖行将会实时向全网广播最新出价。当距离上一次出价的一定时间之内没有买方出价时，竞拍过程终止，进入结算阶段。

**Step 4、结算**

为了保护买方和卖方的隐私，卖方与买方的交易均通过拍卖行进行，买方首先向拍卖行支付货款，拍卖行收到货款后卖方可以向拍卖行提供数字货物，拍卖行审核交易，审核通过后将数字货物发往买方，扣除佣金的货款加上卖方之前支付的押金一起返还给卖方，至此，一次拍卖的过程结束。

## 特色机制

###一、押金

为了防止拍卖行(智能合约)受到DDos攻击，所有的卖方在申请拍卖时需要支付一定的押金(押金与卖方提供的最低价格和卖方的信用分有关)，所有的买方在竞拍时需要支付一定的押金(押金与买方申报的价格和买方的信用分有关)。要求买卖双方支付一定的押金可以有效避免恶意竞拍。

### 二、信用分

每一个在拍卖行注册的节点都会有一个信用分，信用分直接影响节点在买卖时需要支付的押金，信用分越高，需要支付的押金越低。经常来拍卖行买卖东西的节点的信用分会有一定的增长，在拍卖中违约的节点的信用分则会收到严重影响。信用分可以提高节点参与拍卖的积极性并增加拍卖行的用户粘性。

### 三、质疑机制

在传统的拍卖过程中，可能会出现买方虚假报价导致在结算阶段时买方无法负担高额报价的情况，对于这种情况，我们在合约中设置了一个最长拖延时间，为了合约能能够及时检测是否超时。在结算阶段，其他节点可以向智能合约反复查询买方是否违约，发现买方违约的第一个节点可以获得买方押金的5%，同时智能合约能够处理买方无法支付的异常情况，这样的奖励能够促进其他节点质疑的积极性以保证合约能够及时发现买方违约。卖方发送数字货物的过程类似。

###四、合约调用参数及数字货物加密

为了防止不法结点从买方卖方与智能合约的交互中确定卖方买方的身份，我们会对合约调用的参数进行加密，区块链上的其他节点无法从区块链中获得卖方与买方具体操作的拍品号。同时，在数字货物的传递过程中，卖方可用拍卖行的公钥进行加密，拍卖行收到数字货物后解密再用买方密钥进行加密，最后发给买方，全程保证数字货物的机密性以及卖方买方的分离。